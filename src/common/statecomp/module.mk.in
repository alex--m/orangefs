DIR := src/common/statecomp

$(DIR)/scanner.o: $(DIR)/scanner.c
	$(CC) $(CFLAGS) -I src/common/statecomp -c $< -o $@

$(DIR)/statecomp: $(DIR)/statecomp.o $(DIR)/parser.o $(DIR)/scanner.o $(DIR)/statecomp-symbol.o $(DIR)/emalloc.o $(DIR)/codegen.o $(DIR)/stringtbl.o
	$(LD) $^ $(LDFLAGS) -o $@

$(DIR)/parser.c: $(DIR)/parser.y
	$(BISON) -d $< -o $@

$(DIR)/scanner.c: $(DIR)/scanner.l
	#$(FLEX) -d -o$@ $<
	$(FLEX) -o$@ $<
	
