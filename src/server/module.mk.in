DIR := src/server

# automatically generated c files
SERVERGENSRC := \
	$(DIR)/lookup.c \
	$(DIR)/create.c \
	$(DIR)/crdirent.c \
	$(DIR)/set-attr.c \
	$(DIR)/mkdir.c \
	$(DIR)/get-attr.c \
	$(DIR)/readdir.c \
	$(DIR)/get-config.c \
	$(DIR)/remove.c \
	$(DIR)/rmdirent.c \
	$(DIR)/io.c

# "normal" c files
SERVERSRC += \
	$(DIR)/pvfs2-server.c \
	$(DIR)/state-machine.c \
	$(SERVERGENSRC)

# added to the library so that test programs will work
LIBSRC += \
	$(DIR)/print-struct.c

# rule for automatically generated source files
$(SERVERGENSRC): %.c: %.sm src/common/statecomp/statecomp
	src/common/statecomp/statecomp $< $@
