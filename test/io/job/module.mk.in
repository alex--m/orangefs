DIR := test/io/job
TEST_IO_JOB_DIR := test/io/job

TEST_IO_JOB_DIR_SRC := \
	$(DIR)/job-client-example.c \
	$(DIR)/job-flow-server.c \
	$(DIR)/job-server-example.c \
	$(DIR)/req-sched-job-test.c \
	$(DIR)/trove-job-create-toy.c \
	$(DIR)/trove-job-io.c \
	$(DIR)/trove-job-ls.c \
	$(DIR)/trove-job-mkfs.c \
	$(DIR)/trove-job-touch.c \
	$(DIR)/job-dev-test.c \
	$(DIR)/thread-bench2.c \
	$(DIR)/thread-bench3.c

MISCSRC += $(DIR)/job-help.c

TESTSRC += $(TEST_IO_JOB_DIR_SRC)

LOCALTESTS := $(patsubst %.c,%, $(TEST_IO_JOB_DIR_SRC))
$(LOCALTESTS): %: %.o $(TEST_IO_JOB_DIR)/job-help.o
ifdef QUIET_COMPILE
	@echo "  LD		$@"
	@$(LD) $< $(TEST_IO_JOB_DIR)/job-help.o $(LDFLAGS) $(SERVERLIBS) -o $@
else
	$(LD) $< $(TEST_IO_JOB_DIR)/job-help.o $(LDFLAGS) $(SERVERLIBS) -o $@
endif
