#
# BUGS
#	. comments in this file are ignored only at the beginning of a line
#	. trailing whitespace can confuse some parts of PAV
# 

# pav is in the test/ sub-project, but it uses a lot of stuff in the main pvfs2
# tree.  ASSUMPTION: test/ is a subdir of pvfs2, not a standalone directory

SRCDIR_TOP=@SRC_ABSOLUTE_TOP@/../
BUILDDIR=@BUILD_ABSOLUTE_TOP@/../

# primative bakctick expansion is allowed: 
# NODEFILE=`sort $PBS_NODEFILE | uniq > machines ; echo machines`
NODEFILE=machines.pav

# this is the default number of IO servers, but it can be overridden with -n
IONCOUNT=1

METACOUNT=1
UNIQUEMETA=0


#
# EVERYTHING SHOULD BE IN THIS DIRECTORY ON REMOTE NODES
#
WORKINGDIR="/tmp/pvfs-pav-working"

#
# SERVER CONFIGURATION
#

# be careful: the port has to be a port apropriate for the protocol
PROTOCOL=tcp

# hopefully random enough...
PVFSPORT=3349
#  --  could be --
# PROTOCOL=gm
# PVFSPORT=6
#  --  or even --
# PROTOCOL=ib
# PVFSPORT=12345

STORAGE=$WORKINGDIR/storage
SERVERLOG=$WORKINGDIR/log

MOUNTPOINT="/pvfs2-auto"

BINDIR=$WORKINGDIR/bin

RCMDPROG=ssh
RCPPROG=scp

#
# LOCATION OF IMPORTANT BINARIES LOCALLY
#
PROGROOT=$SRCDIR_TOP/test/common/pav

# pav understands simple shell-like variables
#PVFS=/homes/robl/pvfs2
#SERVER=$PVFS/sbin/pvfs2-server
#PINGPROG=$PVFS/bin/pvfs2-ping
#GENCONFIG=$PVFS/bin/pvfs2-genconfig

SERVER=$BUILDDIR/src/server/pvfs2-server
PINGPROG=$BUILDDIR/src/apps/admin/pvfs2-ping
GENCONFIG=$SRCDIR_TOP/src/apps/admin/pvfs2-genconfig

# set this to 1 if the machines used by pav need the important pvfs2
# binaries copied out to them.  set it to 0 if using, for example, NFS
COPYBINS=1

#this value only has to be set in heterogenous environments 
#ENCODING="{direct|le_bfield|xdr}" 

# Set this to 0 to turn off trove metadata syncing.  This is EXPERIMENTAL and
# could cause DATA LOSS, but will give improved performance.
TROVESYNC=1

# set this to 0 if you would rather have compute nodes come before server
# nodes in the list of hosts pav uses
COMPUTENODES_LAST=1
